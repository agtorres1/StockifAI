<div class="container">
    <div class="left-section">
        <div class="logo-container">
            <div class="logo-icon">
                <svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="20" y="30" width="60" height="40" rx="8" stroke="#00bcd4" stroke-width="3" fill="none"/>
                    <rect x="15" y="25" width="70" height="50" rx="10" stroke="#0097a7" stroke-width="2" fill="none"/>
                    <circle cx="35" cy="45" r="3" fill="#00bcd4"/>
                    <circle cx="50" cy="45" r="3" fill="#00bcd4"/>
                    <circle cx="65" cy="45" r="3" fill="#00bcd4"/>
                    <path d="M25 60 L35 55 L50 65 L65 50 L75 60" stroke="#00bcd4" stroke-width="2" fill="none"/>
                    <circle cx="15" cy="15" r="2" fill="#4dd0e1"/>
                    <circle cx="85" cy="20" r="2" fill="#4dd0e1"/>
                    <circle cx="90" cy="80" r="2" fill="#4dd0e1"/>
                    <circle cx="10" cy="85" r="2" fill="#4dd0e1"/>
                </svg>
            </div>
            <div class="logo-text">Stockif<span class="ai">AI</span></div>
        </div>

        <div class="welcome-content">
            <h1 class="welcome-title">¡Bienvenido de vuelta!</h1>
            <p class="welcome-subtitle">Ingresá a tu cuenta para continuar gestionando tu inventario y optimizando tu negocio.</p>
        </div>
    </div>

    <div class="right-section">
        <div class="form-container">
            <div class="form-header">
                <h2 class="form-title">Iniciar Sesión</h2>
                <p class="form-subtitle">Ingresá tus credenciales</p>
            </div>

            <div class="error-message-box" *ngIf="errorMessage">
                {{ errorMessage }}
            </div>

            <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
                <div class="form-group">
                    <label for="email">Email <span class="required">*</span></label>
                    <input type="email" id="email" formControlName="email" placeholder="tu@email.com" autocomplete="email">
                    <div class="error-message" *ngIf="isFieldInvalid('email')">
                        <small *ngIf="hasError('email', 'required')">El email es obligatorio</small>
                        <small *ngIf="hasError('email', 'email')">Ingresá un email válido</small>
                    </div>
                </div>

                <div class="form-group">
                    <label for="password">Contraseña <span class="required">*</span></label>
                    <div class="password-container">
                        <input [type]="showPassword ? 'text' : 'password'"
                               id="password"
                               formControlName="password"
                               placeholder="Tu contraseña"
                               autocomplete="current-password">
                        <button type="button" class="password-toggle" (click)="togglePassword()">
                            {{ showPassword ? '🙈' : '👁️' }}
                        </button>
                    </div>
                    <div class="error-message" *ngIf="isFieldInvalid('password')">
                        <small *ngIf="hasError('password', 'required')">La contraseña es obligatoria</small>
                    </div>
                </div>

                <div class="form-options">
                    <label class="remember-me">
                        <input type="checkbox" formControlName="rememberMe">
                        <span>Recordarme</span>
                    </label>
                    <a href="#" class="forgot-password">¿Olvidaste tu contraseña?</a>
                </div>

                <button type="submit" class="btn-primary" [disabled]="!isFormValid() || isSubmitting">
                    {{ isSubmitting ? 'Iniciando sesión...' : 'Iniciar Sesión' }}
                </button>
            </form>

            <div class="form-footer">
                ¿No tenés cuenta? <a routerLink="/auth/register">Registrate acá</a>
            </div>
        </div>
    </div>
</div>
