<div class="p-3 h-100 text-center">
    <div class="fs-5 fw-semibold mb-2 uppercase">{{ label }}</div>

    <!-- Skeleton -->
    <ng-container *ngIf="loading; else gaugeLoaded">
        <div class="d-flex flex-column align-items-center">
            <div class="skeleton" style="width:180px;height:180px;border-radius:50%"></div>
            <div class="skeleton skeleton-text w-75 mt-3"></div>
            <div class="skeleton skeleton-text w-50 mt-2"></div>
        </div>
    </ng-container>

    <!-- Gauge -->
    <ng-template #gaugeLoaded>
        <div class="gauge-wrap mx-auto" style="width:200px;height:200px;">
            <canvas baseChart [type]="'doughnut'" [data]="data" [options]="opts" role="img">
            </canvas>
        </div>

        <div class="mt-3 d-flex flex-column justify-content-center align-items-center gap-2">
            <i [class]="iconClass" class="fs-3" [style.color]="color" aria-hidden="true"></i>
            <span class="fs-4 fw-semibold">{{ total | currency }}</span>
        </div>
    </ng-template>
</div>